import React, { useState } from "react";

const SECTIONS = [
  {
    key: "photos",
    icon: "๐ท",
    title: "ุตูุฑ ุดุฎุตูุงุช",
    description: "ุตูุฑ ุชุนุจุฑ ุนู ุดุฎุตูุงุช ูุฃุญุฏุงุซ ูู ุชุงุฑูุฎ ุงูุนุงุฆูุฉ",
    color: "#4db878",
    bg: "rgba(45,122,79,0.12)",
  },
  {
    key: "documents",
    icon: "๐",
    title: "ูุณุชูุฏุงุช ูุฏููุฉ",
    description: "ูุซุงุฆู ููุณุชูุฏุงุช ุชุฑูู ุชุงุฑูุฎ ุขู ุฃุจูุนูู ุงูุจูุทุงุฑ",
    color: "#f59e0b",
    bg: "rgba(245,158,11,0.10)",
  },
  {
    key: "letters",
    icon: "โ๏ธ",
    title: "ุฑุณุงุฆู ูุฏููุฉ",
    description: "ุฑุณุงุฆู ููุฑุงุณูุงุช ุชุญูู ูุตุต ุงูุฃุฌุฏุงุฏ ูุงูุฃูู",
    color: "#8b5cf6",
    bg: "rgba(139,92,246,0.10)",
  },
  {
    key: "stories",
    icon: "๐",
    title: "ูุตุต ูุฑูุงูุงุช ูุฏููุฉ",
    description: "ุญูุงูุงุช ูุฑูุงูุงุช ุชุนุจุฑ ุนู ุชุฑุงุซ ูุชุงุฑูุฎ ุงูุนุงุฆูุฉ",
    color: "#06b6d4",
    bg: "rgba(6,182,212,0.10)",
  },
];

// ููุชุทูุงุช ูู ุนุฑุถ "ุดุฌุฑุฉ ุนุงุฆูุฉ ุฃุจูุนูู ุงูุจูุทุงุฑ - ุนุฑุถ ูููุชุฑุญุงุช"
// ุฃูู 9 ุตูุญุงุช โ ุงูุญูุงูุฉ ูููุง
const STORY_SECTIONS = [
  {
    id: 1,
    title: "ุชุนุฑูู ุดุฌุฑุฉ ุงูุนุงุฆูุฉ",
    content:
      "ุดุฌุฑุฉ ุงูุนุงุฆูุฉ ููุณุช ูุฌุฑุฏ ุฃุณูุงุก ูุชูุงุฑูุฎุ ุจู ูุดุฑูุน ูู ููุงุฆุฏ ููุณูุฉ ูุงุฌุชูุงุนูุฉ ูุซูุงููุฉ ูุนูููุฉ. " +
      "ุชุนุฒุฒ ุงููููุฉ ูุงูุงูุชูุงุกุ ูุชููู ุงูุซูุฉ ุจุงูููุณ ุนุจุฑ ูุนุฑูุฉ ูุตุต ูุฌุงุญ ูุตููุฏ ุงูุฃุฌุฏุงุฏุ " +
      "ูุชุณุงุนุฏูุง ุนูู ููู ุงูุฃููุงุท ุงูุนุงุฆููุฉ ุงูุชู ุงูุชููุช ุจูู ุงูุฃุฌูุงู ูู ุงูููู ูุงููุฌุฑุฉ ูุงูุตูุงุช ูุงูุชุญุฏูุงุช.",
  },
  {
    id: 2,
    title: "ููุงุฆุฏ ุชุณุฌูู ุงูุฃูุฑุงุฏ ูู ุงูุดุฌุฑุฉ",
    content:
      "ุงูุชุณุฌูู ูู ุงูุดุฌุฑุฉ ูุธูุฑ ุชุงุฑูุฎ ุงูุนุงุฆูุฉ ููุนุฑูู ูู ูุฑุฏ ุจุฌุฐูุฑู ุงูุฃุตููุฉุ " +
      "ููุณุงุนุฏ ุนูู ุงูุชุนุฑู ุนูู ุฃุจูุงุก ุงูุนู ูู ุดุชู ุฃูุญุงุก ุงูุนุงููุ " +
      "ููุฌูุน ุงูุนุงุฆูุฉ ุชุญุช ูุธููุฉ ูุงุญุฏุฉ ูุชุณููู ุงูุชูุงุตู ูุชูุฏูู ุงูุฎุฏูุงุช ูููุดุชุฑูููุ " +
      "ูุงูุงุณุชูุงุฏุฉ ูู ุงููุฒุนุงุช ูุงููุณุงุนุฏุงุช ุงูุทุงุฑุฆุฉ ูุงูููุชุฑุญุงุช ุงูุฌุฏูุฏุฉ ูุงููุนุงููุงุช ุงูุงุฌุชูุงุนูุฉ.",
  },
  {
    id: 3,
    title: "ุฅุธูุงุฑ ุชุงุฑูุฎ ุงูุนุงุฆูุฉ ููุนุฑูุฉ ุงูุฌุฐูุฑ ุงูุฃุตููุฉ",
    content:
      "ุงุฌุชูุฏ ุงูุฃุฌุฏุงุฏ ูุงูุขุจุงุก ูุงูุฃุนูุงู ุงูุฃูุงุฆู ูู ูุถุน ุญุฌุฑ ุงูุฃุณุงุณ ูุดุฌุฑุฉ ุขู ุฃุจูุนูู ุงูุจูุทุงุฑุ " +
      "ูุชุฑูููุง ุฃูุงู ูุณุคูููุฉ ุฅููุงู ุงููุณูุฑุฉ ููุถุน ุงููุจูุงุช ูู ููุงููุง ุงูุตุญูุญ. " +
      "ุงููุฏู ูู ุจูุงุก ูุญุชุฑู ููุนุงุฆูุฉ ูุชูุงุณุจ ูุน ุชูููููุฌูุง ุงูุนุตุฑ ูุฒูู ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ " +
      "ููุญูุธ ุงูุฅุฑุซ ุงูุนุธูู ุงูุฐู ุชุฑูู ูู ุณุจูููุง ูุซู ุงูุนู ุงููุงุถู ุฎููู ููุฑ ุฃุจูุนูู ุฑุญูู ุงููู.",
  },
  {
    id: 4,
    title: "ุงูุชุนุฑู ุนูู ุฃุจูุงุก ุงูุนู ูู ุดุชู ุฃูุญุงุก ุงูุนุงูู",
    content:
      "ุจุณุจุจ ุงูุงูุดุบุงู ูู ุทูุจ ุงูุฑุฒู ูุงูุณูุฑ ูุฏูู ูุชุนุฏุฏุฉุ ููุช ุงูุฒูุงุฑุงุช ูุตุงุฑ ุงูููุงุก ุจูู ุฃูุฑุงุฏ ุงูุนุงุฆูุฉ ุงููุจูุฑุฉ ุฃูุฑุงู ุตุนุจุงู. " +
      "ูุฐูู ุฃุตุจุญุช ุงูุชูููููุฌูุง ููุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ูุณููุฉ ูููุฉ ููุชุงุจุนุฉ ุงูุฃูู ูุงูุฃูุงุฑุจ ูุณูุงุน ุฃุฎุจุงุฑููุ " +
      "ููุนุฑูุฉ ุฃูุงูู ุชูุงุฌุฏูู ูุฃุญูุงูููุ ููุจูู ุงูุชูุงุตู ูุตูุฉ ุงูุฑุญู ุญุงุถุฑุฉ ุฑุบู ุจูุนุฏ ุงููุณุงูุงุช.",
  },
  {
    id: 5,
    title: "ุงูุงุณุชูุงุฏุฉ ูู ุฌูุน ุฃูุฑุงุฏ ุงูุนุงุฆูุฉ ุชุญุช ูุธููุฉ ูุงุญุฏุฉ",
    content:
      "ุฌูุน ุฃูุฑุงุฏ ุงูุนุงุฆูุฉ ุชุญุช ูุธูุฉ ูุงุญุฏุฉ ูุญูู ููุงุฆุฏ ุนูููุฉ ุนุฏูุฏุฉุ " +
      "ูุซู ุณูููุฉ ุงูุชุตููุช ูู ุฃู ุงูุชุฎุงุจุงุช ุฏุงุฎููุฉ ุฃู ุฎุงุฑุฌูุฉ ุจุดูู ูุฏุฑูุณุ " +
      "ูุงูุญุตูู ุนูู ุฎุตููุงุช ูุฎุฏูุงุช ุตุญูุฉ ุฃูุถูุ " +
      "ูุชูุณูุฑ ุงูุชุนุงูู ูุน ุงูุญุงูุงุช ุงูุฅูุณุงููุฉ ุงูุทุงุฑุฆุฉ ูุงูุญุงุฌุฉ ุฅูู ูุชุจุฑุนูู ุจุงูุฏู ุนุจุฑ ูุนูููุงุช ููุซููุฉ ููุญุฏูุซุฉ.",
  },
  {
    id: 6,
    title: "ุณูููุฉ ุงููุตูู ุฅูู ุงููุดุชุฑููู ููุณุงุฆู ุงูุชูุงุตู",
    content:
      "ุชููุฑ ุงูุดุฌุฑุฉ ูุณููุฉ ุณุฑูุนุฉ ูุฅุฑุณุงู ุงูุฑุณุงุฆู ุงูุฅููุชุฑูููุฉ ูุงูุชูุจููุงุช ุนุจุฑ ุงููุงุชู ุฃู ุงููุงุชุณ ุฃุจ ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑูููุ " +
      "ูุชุณููู ุฏูุน ุงูุงุดุชุฑุงูุงุช ูุจุงุดุฑุฉ ุฅูู ุญุณุงุจ ุงูุฏููุงู ุงูุจููู ุจุฏูู ุงูุญุงุฌุฉ ุฅูู ุชุญุตูู ูุฏูู. " +
      "ูุฐุง ููููุฑ ุงูููุช ูุงูุฌูุฏ ูุงูุชูุงูููุ ููุฌุนู ุฅุฏุงุฑุฉ ุดุคูู ุงูุนุงุฆูุฉ ุฃูุซุฑ ุชูุธูููุง ููุนุงููุฉ.",
  },
  {
    id: 7,
    title: "ุงููุฒุนุงุช ูุงููุณุงุนุฏุงุช ุงูุทุงุฑุฆุฉ ุฃู ุงูููุฑูุฉ",
    content:
      "ูุฌูุฏ ูุงุนุฏุฉ ุจูุงูุงุช ููุธููุฉ ูุฃุจูุงุก ุงูุนุงุฆูุฉ ูุณุงุนุฏ ุนูู ุชูุฏูู ุงูุฎุฏูุงุช ูููุดุชุฑููู ุจุงูุดูู ุงููุงุฆูุ " +
      "ูููุณููู ุงูุชูุงุตู ูุน ุงููุฌูุฉ ุงููุณุคููุฉ ุนู ุงููุณุงุนุฏุงุช ูู ุงูุฏููุงู ุฃู ูุน ุฃุตุญุงุจ ุงูุฃูุงุฏู ุงูุจูุถุงุก ูุจุงุดุฑุฉุ " +
      "ุจุญูุซ ุชุตู ุงููุฒุนุฉ ูู ุงูููุช ุงูููุงุณุจ ููู ูุญุชุงุฌูุง.",
  },
  {
    id: 8,
    title: "ุงูุงุณุชูุงุฏุฉ ูู ุงูููุชุฑุญุงุช ุงูุฌุฏูุฏุฉ ูุฃุจูุงุก ุงูุนุงุฆูุฉ",
    content:
      "ูู ููุชุฑุญ ููุฏููู ุฃุจูุงุก ุงูุนุงุฆูุฉุ ูู ุฃู ููุงู ูู ุงูุนุงููุ ููุณุชูุน ูู ุจุนูุงูุฉ ูููุฏุฑุณ ุจุฅูุฌุงุจูุฉ. " +
      "ุงููุฏู ูู ูุฒุฌ ุฎุจุฑุฉ ุงูุขุจุงุก ูุน ุญูููุฉ ุงูุฃุจูุงุก ูููุงูุจุฉ ุงูุชุณุงุฑุน ูุงูุชุทูุฑุ " +
      "ูุฅุทูุงู ูุนุงููุงุช ูุฏูุฑุงุช ูููุฏุฉ ูุซู ุญูุธ ุงููุฑุขู ูุงูุญุฏูุซุ ูุฏูุฑุงุช ุนูููุฉ ูููููุฉุ " +
      "ูุชูููุฑ ุชุฏุฑูุจุงุช ููุฑุต ุนูู ุชุณูู ูู ุชุทููุฑ ุงูุฐุงุช ูุฎุฏูุฉ ุงููุฌุชูุน.",
  },
  {
    id: 9,
    title: "ุชูุธูู ุงูููุงุกุงุช ูุงููุนุงููุงุช ุงูุงุฌุชูุงุนูุฉ",
    content:
      "ุชูุธูู ููุงุกุงุช ููุนุงููุงุช ุงุฌุชูุงุนูุฉ ูุฌูุน ุงูุนุงุฆูุฉ ูููููู ุงูุฑูุงุจุท ุจูู ุฃูุฑุงุฏูุงุ " +
      "ูุซู ุงุฌุชูุงุนุงุช ุฏูุฑูุฉ ูุฑุฆูุณ ูุฃุนุถุงุก ุงูุฏููุงู ุงูููุชุฎุจุ " +
      "ูุงุญุชูุงููุงุช ูุงุฌุชูุงุน ุนุงุฆูู ุณููู ูุฌูุน ุฃูุจุฑ ุนุฏุฏ ูููู ูู ุฃูุฑุงุฏ ุงูุนุงุฆูุฉุ " +
      "ูุงููุดุงุฑูุฉ ุจุงุณู ุงูุนุงุฆูุฉ ูู ุงูููุงุณุจุงุช ุงููููุฉ ุฎุงุฑุฌูุงู.",
  },
];

export default function FamilyArchive({ isAdmin }) {
  const [uploadStatus, setUploadStatus] = useState(null);
  const [selectedType, setSelectedType] = useState("photos");

  const handleSubmit = (e) => {
    e.preventDefault();
    // ุญุงููุงู ูุงุฌูุฉ ููุท ุจุฏูู ุฑุจุท ููุงุฆู ุจุงูุจุงู ุฅูุฏ
    setUploadStatus("ุณูุชู ุญูุธ ูุฐุง ุงููุญุชูู ูู ุฃุฑุดูู ุงูุนุงุฆูุฉ ุนูุฏ ุชูุนูู ููุฒุฉ ุงูุฑูุน.");
    setTimeout(() => setUploadStatus(null), 4000);
  };

  return (
    <div className="animate-fade-in-up space-y-6">
      <div className="text-center mb-8">
        <div className="inline-flex items-center justify-center w-14 h-14 rounded-2xl mb-3"
          style={{ background: "linear-gradient(135deg,#2d7a4f,#1a5c36)" }}>
          <span className="text-2xl">๐</span>
        </div>
        <h2 className="text-2xl font-black mb-1" style={{ color: "#e8f5ec" }}>
          ุชุฑุงุซ ุขู ุฃุจูุนูู ุงูุจูุทุงุฑ
        </h2>
        <p className="text-sm" style={{ color: "rgba(232,240,235,0.5)" }}>
          ุตูุฑ ุดุฎุตูุงุช ยท ูุณุชูุฏุงุช ูุฏููุฉ ยท ุฑุณุงุฆู ยท ูุตุต ูุฑูุงูุงุช ุชุนุจุฑ ุนู ุชุงุฑูุฎ ุงูุนุงุฆูุฉ
        </p>
      </div>

      {/* ููุญุฉ ุฑูุน ูุญุชูู ุงูุฃุฑุดูู โ ุชุธูุฑ ููุฃุฏูู ููุท */}
      {isAdmin && (
        <div
          className="rounded-2xl p-6 space-y-5"
          style={{
            background: "rgba(255,255,255,0.05)",
            border: "1px solid rgba(255,255,255,0.10)",
          }}
        >
          <div className="flex items-center justify-between gap-3" style={{ direction: "rtl" }}>
            <div>
              <div
                className="text-xs font-bold uppercase tracking-widest mb-1"
                style={{ color: "#f59e0b" }}
              >
                ููุฃุฏูู ููุท
              </div>
              <h3 className="text-lg font-black" style={{ color: "#e8f5ec" }}>
                ุฅุฏุงุฑุฉ ุฃุฑุดูู ุงูุนุงุฆูุฉ
              </h3>
              <p className="text-xs mt-1" style={{ color: "rgba(232,240,235,0.55)" }}>
                ุงุฎุชุฑ ููุน ุงููุญุชูู ุซู ุงุฑูุน ุตูุฑูุง ุฃู ูุณุชูุฏุงุช ุฃู ูุตุตูุง ุฎุงุตุฉ ุจุงูุนุงุฆูุฉ.
              </p>
            </div>
            <div
              className="hidden sm:flex items-center justify-center w-11 h-11 rounded-xl"
              style={{ background: "rgba(245,158,11,0.12)" }}
            >
              <span className="text-xl">๐๏ธ</span>
            </div>
          </div>

          {/* ุงูุฃููููุงุช ุงูุฃุฑุจุนุฉ */}
          <div className="grid gap-3 sm:grid-cols-4">
            {SECTIONS.map((s) => (
              <button
                key={s.key}
                type="button"
                onClick={() => setSelectedType(s.key)}
                className="flex flex-col items-center justify-center gap-2 rounded-2xl px-3 py-3 text-xs font-semibold transition-all"
                style={{
                  background:
                    selectedType === s.key ? s.bg : "rgba(255,255,255,0.03)",
                  border:
                    selectedType === s.key
                      ? `1px solid ${s.color}66`
                      : "1px solid rgba(255,255,255,0.06)",
                  color:
                    selectedType === s.key
                      ? s.color
                      : "rgba(232,240,235,0.7)",
                }}
              >
                <span
                  className="text-2xl"
                  style={{
                    filter:
                      selectedType === s.key ? "none" : "grayscale(0.2)",
                  }}
                >
                  {s.icon}
                </span>
                <span>{s.title}</span>
              </button>
            ))}
          </div>

          {/* ููุฑู ุงูุฑูุน */}
          <form onSubmit={handleSubmit} className="space-y-3" style={{ direction: "rtl" }}>
            <div className="grid gap-3 sm:grid-cols-2">
              <div>
                <label
                  className="block text-xs font-semibold mb-1.5"
                  style={{ color: "rgba(232,240,235,0.55)" }}
                >
                  ููุน ุงููุญุชูู
                </label>
                <select
                  className="input-field"
                  value={selectedType}
                  onChange={(e) => setSelectedType(e.target.value)}
                >
                  <option value="photos">ุตูุฑ ุดุฎุตูุงุช</option>
                  <option value="documents">ูุณุชูุฏุงุช ูุฏููุฉ</option>
                  <option value="letters">ุฑุณุงุฆู ูุฏููุฉ</option>
                  <option value="stories">ูุตุต ูุฑูุงูุงุช ูุฏููุฉ</option>
                </select>
              </div>
              <div>
                <label
                  className="block text-xs font-semibold mb-1.5"
                  style={{ color: "rgba(232,240,235,0.55)" }}
                >
                  ููู (ุตูุฑุฉ / PDF / ูุณุชูุฏ)
                </label>
                <input
                  type="file"
                  className="input-field"
                  accept="image/*,.pdf,.doc,.docx"
                />
              </div>
            </div>

            <div>
              <label
                className="block text-xs font-semibold mb-1.5"
                style={{ color: "rgba(232,240,235,0.55)" }}
              >
                ูุตู ูุตูุฑ ูููุญุชูู
              </label>
              <textarea
                rows={3}
                className="input-field"
                placeholder="ูุซุงู: ุตูุฑุฉ ููุฌุฏ ููุงู ูุน ุงูุนุงุฆูุฉ ูู ุณูุฉ 1980ุ ุฃูุงู ุจูุช ุงูุนุงุฆูุฉ ุงููุฏูู..."
              />
            </div>

            <div className="flex justify-end">
              <button type="submit" className="btn-primary text-sm px-5">
                ุญูุธ ูู ุฃุฑุดูู ุงูุนุงุฆูุฉ (ูุฑูุจุงู)
              </button>
            </div>

            {uploadStatus && (
              <div
                className="mt-2 px-3 py-2 rounded-xl text-xs"
                style={{
                  background: "rgba(37,99,235,0.12)",
                  border: "1px solid rgba(37,99,235,0.35)",
                  color: "#bfdbfe",
                }}
              >
                {uploadStatus}
              </div>
            )}
          </form>
        </div>
      )}

      {/* ุงูุญูุงูุฉ ูููุง โ ูู 9 ุตูุญุงุช ุงูุนุฑุถ */}
      <div
        className="rounded-2xl p-6 md:p-7 space-y-5"
        style={{
          background: "rgba(255,255,255,0.04)",
          border: "1px solid rgba(255,255,255,0.08)",
        }}
      >
        <div className="flex items-center justify-between gap-3 mb-2" style={{ direction: "rtl" }}>
          <div>
            <div
              className="text-xs font-bold uppercase tracking-widest mb-1"
              style={{ color: "#4db878" }}
            >
              ุงูุญูุงูุฉ ูููุง
            </div>
            <h3 className="text-lg font-black" style={{ color: "#e8f5ec" }}>
              ููุชุทูุงุช ูู ุนุฑุถ ุดุฌุฑุฉ ุขู ุฃุจูุนูู ุงูุจูุทุงุฑ
            </h3>
          </div>
          <div
            className="hidden sm:flex items-center justify-center w-10 h-10 rounded-xl"
            style={{ background: "rgba(45,122,79,0.16)" }}
          >
            <span>๐ฟ</span>
          </div>
        </div>

        <div className="space-y-4">
          {STORY_SECTIONS.map((item) => (
            <div
              key={item.id}
              className="relative rounded-2xl p-4 md:p-5"
              style={{
                background: "rgba(0,0,0,0.18)",
                border: "1px solid rgba(255,255,255,0.06)",
              }}
            >
              <div className="flex items-start gap-3" style={{ direction: "rtl" }}>
                <div
                  className="mt-0.5 flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold"
                  style={{
                    background: "rgba(45,122,79,0.16)",
                    color: "#4db878",
                  }}
                >
                  {item.id}
                </div>
                <div className="space-y-1">
                  <h4
                    className="text-sm md:text-base font-bold"
                    style={{ color: "#e8f5ec" }}
                  >
                    {item.title}
                  </h4>
                  <p
                    className="text-xs md:text-sm leading-relaxed"
                    style={{ color: "rgba(232,240,235,0.7)" }}
                  >
                    {item.content}
                  </p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      <div className="rounded-2xl p-5 text-center"
        style={{
          background: "rgba(255,255,255,0.04)",
          border: "1px solid rgba(255,255,255,0.08)",
        }}>
        <p className="text-sm" style={{ color: "rgba(232,240,235,0.45)" }}>
          ุฅู ูุงู ูุฏููู ุตูุฑ ุฃู ูุณุชูุฏุงุช ุฃู ูุตุต ุชูุฏูู ูุดุงุฑูุชูุง ูู ุฃุฑุดูู ุงูุนุงุฆูุฉุ ุชูุงุตููุง ูุน ุงูุฅุฏุงุฑุฉ.
        </p>
      </div>
    </div>
  );
}
